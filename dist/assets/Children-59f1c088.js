import{d as f,r as n,q as _,f as d,e as r,w as a,i as b,y as w,o as y,g as c,C as S,z as x}from"./index-0862b214.js";/* empty css               *//* empty css                  */import{u as g,d as C}from"./index-db09f7ab.js";const v={class:"about"},k={style:{"padding-bottom":"15px"}},D=g(),E={name:"ContestsList",data(){return{childCriteria:[]}},async created(){this.whenCreated()},methods:{async whenCreated(){const{data:e,error:o}=await C.methods.getChildCriteria(D.chosenParentCriteriaIDForNextLevel);console.log(e),o?console.error("Error fetching contests:",o):this.childCriteria=e||[],this.displayScore()},async deleteRow(e){const o=this.childCriteria[e].id,{error:l}=await C.methods.deleteByID("Parent_Criteria",o);l?console.error("Error deleting the selected data:",l):(console.log("Successfully delete the item from table."),this.whenCreated())},displayScore(){for(let e=0;e<this.childCriteria.length;e++)this.childCriteria[e].whether_score_by_choice?this.childCriteria[e].displayScore="Score can be: "+this.childCriteria[e].choice_score_array:this.childCriteria[e].displayScore="Maximum Score: "+this.childCriteria[e].maximum_score}}},$=f({...E,setup(e){const o=n(!1),l=n(!1);return n(!1),(h,t)=>{const s=b,i=x,m=w;return y(),_("div",v,[t[5]||(t[5]=d("div",{class:"header"},[d("h1",null,"List of Child Criteria from the chosen parent criterion")],-1)),d("div",k,[r(s,{type:"primary",onClick:t[0]||(t[0]=p=>o.value=!0)},{default:a(()=>t[2]||(t[2]=[c("Add a new child criterion")])),_:1})]),r(m,{data:h.childCriteria,stripe:"",border:"",style:{width:"100%"}},{default:a(()=>[r(i,{prop:"Parent_Criteria.Contests.season",label:"Season",width:"100",fixed:""}),r(i,{prop:"Parent_Criteria.criteria_alphabet",label:"Parent Criterion",width:"100",fixed:""}),r(i,{prop:"child_criterion_number",label:"Criterion Number",width:"100"}),r(i,{prop:"criterion_title",label:"Title",width:"180"}),r(i,{prop:"criterion_description",label:"Description",width:"300"}),r(i,{prop:"displayScore",label:"Score",width:"150"}),r(i,{fixed:"right",label:"Operations",width:"180"},{default:a(p=>[r(s,{link:"",type:"primary",size:"small",onClick:t[1]||(t[1]=u=>l.value=!0)},{default:a(()=>t[3]||(t[3]=[c("Edit")])),_:1}),r(s,{link:"",type:"danger",size:"small",onClick:S(u=>h.deleteRow(p.$index),["prevent"])},{default:a(()=>t[4]||(t[4]=[c("Delete")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}});export{$ as default};
