import{d as b,r as C,q as _,f as u,e as r,w as o,v,i as y,y as k,o as g,g as l,C as f,z as x}from"./index-322f1065.js";/* empty css               *//* empty css                  */import{u as D,d as m}from"./index-0bf508d5.js";const E={class:"about"},P={style:{"padding-bottom":"15px"}},h=D(),I={name:"ContestsList",data(){return{parentCriteria:[]}},async created(){this.whenCreated()},methods:{async whenCreated(){const{data:a,error:t}=await m.methods.getParentCriteria(h.chosenContestIDForNextLevel);console.log(a),t?console.error("Error fetching contests:",t):this.parentCriteria=a},chooseParentCriteria(a){const t=this.parentCriteria[a].id;h.setParentCriteriaIDNextLevel(t),v.push({name:"childCriteriaList"}),console.log("Set ParentCriteriaIDNextLevel to "+t+"and route")},async deleteRow(a){const t=this.parentCriteria[a].id,{error:i}=await m.methods.deleteByID("Parent_Criteria",t);i?console.error("Error deleting the selected data:",i):(console.log("Successfully delete the item from table."),this.whenCreated())}}},S=b({...I,setup(a){const t=C(!1),i=C(!1);return C(!1),(d,e)=>{const n=y,s=x,w=k;return g(),_("div",E,[e[6]||(e[6]=u("div",{class:"header"},[u("h1",null,"List of Parent Criteria from the chosen contest")],-1)),u("div",P,[r(n,{type:"primary",onClick:e[0]||(e[0]=p=>t.value=!0)},{default:o(()=>e[2]||(e[2]=[l("Add a new parent criterion")])),_:1})]),r(w,{data:d.parentCriteria,stripe:"",border:"",style:{width:"100%"}},{default:o(()=>[r(s,{prop:"Contests.season",label:"Season",width:"180",fixed:""}),r(s,{prop:"criteria_alphabet",label:"Alphabet",width:"180"}),r(s,{prop:"criteria_title",label:"Title",width:"180"}),r(s,{fixed:"right",label:"Operations",width:"180"},{default:o(p=>[r(n,{link:"",type:"primary",size:"small",onClick:e[1]||(e[1]=c=>i.value=!0)},{default:o(()=>e[3]||(e[3]=[l("Edit")])),_:1}),r(n,{link:"",type:"danger",size:"small",onClick:f(c=>d.deleteRow(p.$index),["prevent"])},{default:o(()=>e[4]||(e[4]=[l("Delete")])),_:2},1032,["onClick"]),r(n,{link:"",type:"info",onClick:f(c=>d.chooseParentCriteria(p.$index),["prevent"])},{default:o(()=>e[5]||(e[5]=[l("Choose")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}});export{S as default};
