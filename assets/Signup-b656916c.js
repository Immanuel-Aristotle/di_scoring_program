import{a as F,r as B,b as v,c,w as a,u as I,e as k,E as R,o as f,f as o,g as u,h as y,i as w,s as T,v as Y,j as M,k as N,l as P,m as j,n as D,p as L,t as $,q,_ as z}from"./index-af83d4e5.js";/* empty css                *//* empty css                 *//* empty css                  */import{v as i,a as G}from"./login-f84dc849.js";const K={class:"card-header"},O=F({__name:"Signup",setup(A){const g=B(),b=I(),l=v({username:"",email:"",password:"",token:""}),V=v({username:[{validator:i,trigger:"blur"}],email:[{validator:i,trigger:"blur"},{validator:G,trigger:"blur"}],password:[{validator:i,trigger:"blur"}],token:[{validator:i,trigger:"blur"}]}),x=async d=>{d&&d.validate(async e=>{if(e){const{username:s,email:m,password:p,token:_}=l,{data:n,error:r}=await T.auth.signUp({email:m,password:p,options:{data:{username:s,token:_}}});if(r){console.error("Sign up failed:",r.message);return}Y.alert("Please go and check your email for verification","Title",{confirmButtonText:"OK"})}else{console.log("error submit!");return}})},E=()=>{b.push("/login")};return(d,e)=>{const s=M,m=k("Moon"),p=k("Sunny"),_=N,n=P,r=j,U=D,S=L,C=R;return f(),c(C,{class:"login",justify:"center",align:"middle"},{default:a(()=>[o(S,{class:"box-card"},{header:a(()=>[u("div",K,[e[7]||(e[7]=u("span",null,"Sign Up",-1)),o(s,{type:"primary",class:"signup",onClick:E},{default:a(()=>e[6]||(e[6]=[y("Go Log In")])),_:1}),u("div",{class:"dark-icon",onClick:e[0]||(e[0]=t=>w($)())},[o(_,null,{default:a(()=>[w(q)?(f(),c(m,{key:0})):(f(),c(p,{key:1}))]),_:1})])])]),default:a(()=>[u("div",null,[o(U,{ref_key:"ruleFormRef",ref:g,model:l,"status-icon":"",rules:V,"label-width":"60px",class:"demo-ruleForm"},{default:a(()=>[o(r,{label:"Username",prop:"username"},{default:a(()=>[o(n,{placeholder:"Your username",modelValue:l.username,"onUpdate:modelValue":e[1]||(e[1]=t=>l.username=t)},null,8,["modelValue"])]),_:1}),o(r,{label:"Email",prop:"email"},{default:a(()=>[o(n,{placeholder:"Your email",type:"email",modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=t=>l.email=t)},null,8,["modelValue"])]),_:1}),o(r,{label:"Password",prop:"password"},{default:a(()=>[o(n,{placeholder:"Your password",modelValue:l.password,"onUpdate:modelValue":e[3]||(e[3]=t=>l.password=t),type:"password",autocomplete:"off","show-password":""},null,8,["modelValue"])]),_:1}),o(r,{label:"Token",prop:"token"},{default:a(()=>[o(n,{autosize:{minRows:1,maxRows:3},type:"textarea",placeholder:"Please enter the token provided by the administrator in order to register. Your token will determine your user role.",modelValue:l.token,"onUpdate:modelValue":e[4]||(e[4]=t=>l.token=t),autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(r,null,{default:a(()=>[o(s,{type:"primary",onClick:e[5]||(e[5]=t=>x(g.value))},{default:a(()=>e[8]||(e[8]=[y("Sign Up")])),_:1})]),_:1})]),_:1},8,["model","rules"])])]),_:1})]),_:1})}}});const Z=z(O,[["__scopeId","data-v-56e62cf7"]]);export{Z as default};
