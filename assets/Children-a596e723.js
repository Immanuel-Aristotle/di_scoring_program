import{d as u,r as n,x as w,g as d,f as r,w as a,l as b,B as y,o as x,h as c,G as S,C as g,F as v}from"./index-fc2d5d22.js";/* empty css                   *//* empty css               *//* empty css                  */import{d as m}from"./database-38f6de2b.js";import{u as k}from"./index-b2735612.js";const D={class:"about"},E={style:{"padding-bottom":"15px"}},B=k(),N={name:"ContestsList",data(){return{childCriteria:[]}},async created(){this.whenCreated()},methods:{async whenCreated(){const{data:e,error:o}=await m.methods.getChildCriteria(B.chosenParentCriteriaIDForNextLevel);console.log(e),o?console.error("Error fetching contests:",o):this.childCriteria=e||[],this.displayScore()},async deleteRow(e){const o=this.childCriteria[e].id,{error:l}=await m.methods.deleteByID("Parent_Criteria",o);l?console.error("Error deleting the selected data:",l):(console.log("Successfully delete the item from table."),this.whenCreated())},displayScore(){for(let e=0;e<this.childCriteria.length;e++)this.childCriteria[e].whether_score_by_choice?this.childCriteria[e].displayScore="Score can be: "+this.childCriteria[e].choice_score_array:this.childCriteria[e].displayScore="Maximum Score: "+this.childCriteria[e].maximum_score}}},z=u({...N,setup(e){const o=n(!1),l=n(!1);return n(!1),(h,t)=>{const s=b,i=g,C=y,_=v;return x(),w("div",D,[t[5]||(t[5]=d("div",{class:"header"},[d("h1",null,"List of Child Criteria from the chosen parent criterion")],-1)),d("div",E,[r(s,{type:"primary",onClick:t[0]||(t[0]=p=>o.value=!0)},{default:a(()=>t[2]||(t[2]=[c("Add a new child criterion")])),_:1})]),r(C,{data:h.childCriteria,height:"500",stripe:"",border:"",style:{width:"100%"}},{default:a(()=>[r(i,{prop:"Parent_Criteria.Contests.season",label:"Season",width:"100",fixed:""}),r(i,{prop:"Parent_Criteria.criteria_alphabet",label:"Parent Criterion",width:"100",fixed:""}),r(i,{prop:"child_criterion_number",label:"Criterion Number",width:"100"}),r(i,{prop:"criterion_title",label:"Title",width:"180"}),r(i,{prop:"criterion_description",label:"Description",width:"300"}),r(i,{prop:"displayScore",label:"Score",width:"150"}),r(i,{fixed:"right",label:"Operations",width:"180"},{default:a(p=>[r(s,{link:"",type:"primary",size:"small",onClick:t[1]||(t[1]=f=>l.value=!0)},{default:a(()=>t[3]||(t[3]=[c("Edit")])),_:1}),r(s,{link:"",type:"danger",size:"small",onClick:S(f=>h.deleteRow(p.$index),["prevent"])},{default:a(()=>t[4]||(t[4]=[c("Delete")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),r(_)])}}});export{z as default};
